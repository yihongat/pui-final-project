(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[261],{6736:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/analysis",function(){return a(6002)}])},2425:function(e,t,a){"use strict";a.d(t,{X:function(){return h}});var n=a(1799),l=a(9396),r=a(9534),i=a(5893),o=a(4184),s=a.n(o),c=a(7294),d=a(6486),u=a.n(d),h=function(e){var t=e.children,a=e.reduceEffect,o=void 0===a?50:a,d=(0,r.Z)(e,["children","reduceEffect"]),h=(0,c.useRef)(null),f=(0,c.useState)([0,0]),v=f[0],x=f[1],m=(0,c.useCallback)(function(e){u().throttle(function(e){var t,a=null==h?void 0:null===(t=h.current)||void 0===t?void 0:t.getBoundingClientRect();x([(e.clientX-(a?a.left+a.width/2:window.innerWidth/2))/o,(e.clientY-(a?a.top+a.height/2:window.innerHeight/2))/o,])},16)(e)},[o]);return(0,i.jsx)("div",(0,l.Z)((0,n.Z)({},d),{className:s()("relative flex justify-center items-center",d.className),ref:h,style:{perspective:"1000px",transition:"all 0.75s ease-out"},onMouseMove:function(e){return m(e)},children:(0,i.jsx)("div",{className:s()("relative flex justify-center items-center",d.className),style:{transform:"rotateY(".concat(v[0],"deg) rotateX(").concat(v[1],"deg)"),transition:"all 0.3s ease-out"},children:t})}))}},6002:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return B}});var n,l=a(7568),r=a(655),i=a(5893),o=a(5675),s=a.n(o),c=a(7294),d=a(4184),u=a.n(d),h=a(2425),f=a(382),v=a(5174),x=a(6626),m=a(2266),p=function(){var e=(0,f.fq)().watchHistory;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("main",{className:u()("w-full flex flex-col h-full justify-center items-center pb-24 pt-2"),children:(0,i.jsx)(h.X,{className:"flex-col w-full h-full",children:(0,i.jsxs)("div",{className:"w-10/12 lg:w-8/12 max-w-[1000px] flex flex-col",children:[(0,i.jsx)(m.n,{delay:1,children:(0,i.jsx)("h2",{children:"This year, you have watched"})}),(0,i.jsx)(m.n,{delay:2,children:(0,i.jsxs)("h2",{children:[(0,i.jsx)("span",{className:"text-[54px] mr-2 md:text-[100px] md:mr-4 lg:text-[200px] tracking-[-.05em] leading-tight text-primary lg:mr-6 inline",children:e?e.length:0})," ","videos"]})}),(0,i.jsx)(m.n,{delay:3,children:(0,i.jsxs)("h2",{children:["from"," ",(0,i.jsx)("span",{className:"text-primaryBlack inline",children:e?Object.keys((0,v.DZ)(e)).length:0})," ","different creators"]})})]})})}),(0,i.jsxs)("div",{className:"-z-50 absolute w-full top-0 h-full overflow-hidden opacity-80 hidden lg:block",children:[(0,i.jsx)(m.n,{delay:.1,className:"bottom-[15%] left-[2%] absolute w-[30vh] h-[30vh]",children:(0,i.jsx)(s(),{src:x.H.HalfShape,alt:"Red tinted clay shapes on background as decoration",layout:"fill"})}),(0,i.jsx)(m.n,{delay:.2,className:"bottom-[-15%] right-[10%] absolute w-[54vh] h-[54vh]",children:(0,i.jsx)(s(),{src:x.H.Pie,alt:"Red tinted clay shapes on background as decoration",layout:"fill"})})]})]})},y=a(5381),g=a(3168),w=function(){var e,t,a,n,l=(0,f.fq)().topCreators;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("main",{className:u()("w-full flex flex-col justify-center items-center pb-12 lg:pb-8 pt-2"),children:(0,i.jsxs)("div",{className:"w-10/12 lg:w-8/12 max-w-[1000px] flex flex-col text-left items-start lg:text-center lg:items-center",children:[(0,i.jsx)(m.n,{delay:1.5,children:(0,i.jsxs)("h2",{children:["Your most watched creator was"," ",(0,i.jsx)("span",{className:"text-primary mr-6",children:null===(e=l[0])||void 0===e?void 0:e.name})]})}),(0,i.jsx)(m.n,{delay:3,className:"w-full",children:(0,i.jsxs)("p",{className:"mt-6",children:["You watched their videos"," ",(0,i.jsx)("span",{className:"font-semibold text-primary",children:"".concat(null===(t=l[0])||void 0===t?void 0:t.videosWatched," times")})," ","this year."," "]})}),(0,i.jsx)(m.n,{delay:1,className:"w-full max-w-[150px] h-[150px] lg:max-w-[250px] relative lg:h-[250px] rounded-full overflow-hidden justify-center mt-8 lg:mt-16",children:(0,i.jsx)(s(),{src:null===(a=l[0])||void 0===a?void 0:a.imageUrl.url,alt:(null===(n=l[0])||void 0===n?void 0:n.name)||"Your top creator",layout:"fill"})})]})}),(0,i.jsxs)("div",{className:"-z-50 absolute w-full top-0 h-full overflow-hidden opacity-80 hidden lg:block",children:[(0,i.jsx)(m.n,{delay:.1,className:"bottom-[-5%] left-[10%] absolute w-[20vh] h-[20vh]",children:(0,i.jsx)(s(),{src:x.H.HalfShape,alt:"Red tinted clay shapes on background as decoration",layout:"fill"})}),(0,i.jsx)(m.n,{delay:.2,className:"bottom-[-5%] right-[5%] absolute w-[60vh] h-[60vh]",children:(0,i.jsx)(s(),{src:x.H.Forward,alt:"Red tinted clay shapes on background as decoration",layout:"fill"})}),(0,i.jsx)(m.n,{delay:.3,className:"top-[5%] left-[-5%] absolute w-[54vh] h-[54vh]",children:(0,i.jsx)(s(),{src:x.H.Cone2,alt:"Red tinted clay shapes on background as decoration",layout:"fill"})})]})]})},j=function(){var e,t,a,n,l,r,o=(0,f.fq)().topCreators;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("main",{className:u()("w-full flex flex-col justify-center items-center pb-12 lg:pb-8 pt-2"),children:(0,i.jsxs)("div",{className:"w-10/12 lg:w-8/12 max-w-[1000px] flex flex-col text-center items-center",children:[(0,i.jsx)(m.n,{delay:1,children:(0,i.jsx)("h2",{children:"Top Creators"})}),(0,i.jsx)(m.n,{delay:1.5,children:(0,i.jsx)("p",{className:"text mt-6",children:"These creators made your year."})}),(0,i.jsx)("div",{className:"flex flex-col lg:hidden",children:o.map(function(e,t){return(0,i.jsx)(m.n,{className:"flex flex-col mt-2",children:(0,i.jsx)("h4",{children:e.name})},t)})}),(0,i.jsxs)("div",{className:"w-full mt-10 hidden lg:flex",children:[(0,i.jsx)(m.n,{delay:3,className:"basis-7/12 grow-0 shrink-0",children:o.map(function(e,t){return(0,i.jsxs)("div",{className:"flex text-left mt-2",children:[(0,i.jsx)("h4",{className:"basis-20 text-primaryGrey grow-0 shrink-0",children:"".concat(t+1,".")}),(0,i.jsx)("h4",{children:e.name})]},t)})}),(0,i.jsx)(m.n,{delay:4,className:"relative basis-5/12 grow-0 shrink-0 pt-8",children:(0,i.jsxs)("div",{className:"relative w-full h-full",children:[(0,i.jsx)("div",{className:"h-[50%] w-[50%] aspect-square left-[20%] top-0 rounded-full overflow-hidden border-[12px] border-tertiary relative",children:(0,i.jsx)(s(),{src:null===(e=o[0])||void 0===e?void 0:e.imageUrl.url,alt:(null===(t=o[0])||void 0===t?void 0:t.name)||"Your top creator",layout:"fill"})}),(0,i.jsxs)("div",{className:"flex justify-between h-[50%]",children:[(0,i.jsx)("div",{className:"h-[80%] w-[40%] aspect-square rounded-full overflow-hidden border-[12px] border-tertiary relative",children:(0,i.jsx)(s(),{src:null===(a=o[1])||void 0===a?void 0:a.imageUrl.url,alt:(null===(n=o[1])||void 0===n?void 0:n.name)||"Your 2nd top creator",layout:"fill"})}),(0,i.jsx)("div",{className:"h-[60%] w-[30%] aspect-square rounded-full overflow-hidden border-[12px] border-tertiary relative",children:(0,i.jsx)(s(),{src:null===(l=o[2])||void 0===l?void 0:l.imageUrl.url,alt:(null===(r=o[2])||void 0===r?void 0:r.name)||"Your 3rd top creator",layout:"fill"})})]})]})})]})]})}),(0,i.jsxs)("div",{className:"-z-50 absolute w-full top-0 h-screen overflow-hidden opacity-80 hidden lg:block",children:[(0,i.jsx)(m.n,{delay:.1,className:"bottom-[20%] left-[2%] absolute w-[25vh] h-[25vh]",children:(0,i.jsx)(s(),{src:x.H.HalfShape,alt:"Red tinted clay shapes on background as decoration",layout:"fill"})}),(0,i.jsx)(m.n,{delay:.2,className:"top-[15%] right-[10%] absolute w-[15vh] h-[15vh]",children:(0,i.jsx)(s(),{src:x.H.Rock1,alt:"Red tinted clay shapes on background as decoration",layout:"fill"})})]})]})},b=a(603),N=a(8467),k=function(){var e=(0,f.fq)().watchHistory,t=(0,c.useRef)(null);return(0,c.useEffect)(function(){var a,n=function(e,t){var a=t.x,n=t.y,l=t.title,r=t.width,i=void 0===r?928:r,o=t.cellSize,s=void 0===o?17:o,c=t.weekday,d=void 0===c?"monday":c,u=t.formatDay,h=t.formatMonth,f=void 0===h?"%b":h,v=t.yFormat,x=t.colors,m=void 0===x?N.bc$:x,p=t.margin,y=void 0===p?20:p,g=function(e){var t=Math.max(0,Math.min(R,C(e.getUTCDay()))),a=S.count(N.olf(e),e);return"".concat(0===t?"M".concat(a*s,",0"):t===R?"M".concat((a+1)*s,",0"):"M".concat((a+1)*s,",0V").concat(t*s,"H").concat(a*s),"V").concat(R*s)},w=N.UID(e,void 0===a?function(e){return(0,b.Z)(e,1)[0]}:a),j=N.UID(e,void 0===n?function(e){return(0,b.Z)(e,2)[1]}:n),k=N.w6H(w.length),C="sunday"===d?function(e){return e}:function(e){return(e+6)%7},S="sunday"===d?N.Ox3:N.l68,R="weekday"===d?5:7,Y=s*(R+2),z=N.VRg(j,.9975,Math.abs),H=N.cJy([0,+z],m).unknown("#EEF2F3");if(f=N.g0u(f),void 0===l){var D=N.g0u("%B %-d, %Y"),U=H.tickFormat(100,v);l=function(e){return"".concat(D(w[e]),"\n").concat(U(j[e]))}}else if(null!==l){var E=N.UID(e,l);l=function(e){return E[e]}}var F=N.Xxj(k,function(e){return w[e].getUTCFullYear()}).reverse(),_=N.Ue8("svg").attr("width",i+y).attr("height",Y*F.length).attr("viewBox",[0,0,i+y,Y*F.length]).attr("style","max-width: 100%; height: auto; height: intrinsic;").attr("font-family","sans-serif").attr("font-size",10),T=_.selectAll("g").data(F).join("g").attr("transform",function(e,t){return"translate(40.5,".concat(Y*t+1.5*s,")")});T.append("text").attr("x",-5).attr("y",-5).attr("font-weight","bold").attr("text-anchor","end").text(function(e){return(0,b.Z)(e,1)[0]}),T.append("g").attr("text-anchor","end").selectAll("text").data("weekday"===d?N.w6H(1,6):N.w6H(7)).join("text").attr("x",-5).attr("y",function(e){return(C(e)+.5)*s}).attr("dy","0.31em").text(void 0===u?function(e){return"SMTWTFS"[e]}:u);var Z=T.append("g").selectAll("rect").data("weekday"===d?function(e){return(0,b.Z)(e,2)[1].filter(function(e){return![0,6].includes(w[e].getUTCDay())})}:function(e){return(0,b.Z)(e,2)[1]}).join("rect").attr("width",s-1).attr("height",s-1).attr("x",function(e){return S.count(N.olf(w[e]),w[e])*s+.5}).attr("y",function(e){return C(w[e].getUTCDay())*s+.5}).attr("fill",function(e){return j[e]>0?H(j[e]):"#EEF2F3"});l&&Z.append("title").text(l);var O=T.append("g").selectAll("g").data(function(e){var t=(0,b.Z)(e,2)[1];return N.Ksh(N.meP(w[t[0]]),w[t[t.length-1]])}).join("g");return O.filter(function(e,t){return t}).append("path").attr("fill","none").attr("stroke","#fff").attr("stroke-width",3).attr("d",g),O.append("text").attr("x",function(e){return S.count(N.olf(e),S.ceil(e))*s+2}).attr("y",-5).text(f),Object.assign(_.node(),{scales:{color:H}})}((0,v.zM)(e,new Date(2022,0,1),new Date(2022,11,31)),{x:function(e){return e.date},y:function(e){return e.videoCount}});null===(a=t.current)||void 0===a||a.replaceChildren(n)},[e]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("main",{className:u()("w-full flex-col justify-center items-center pb-12 lg:pb-8 pt-2"),children:(0,i.jsxs)("div",{className:"w-12/12 lg:w-8/12 mx-auto w-[1000px] flex flex-col text-center items-center gap-8 md:gap-16",children:[(0,i.jsx)(m.n,{className:"w-10/12",delay:1,children:(0,i.jsxs)("h2",{children:["Your year in ",(0,i.jsx)("span",{className:"text-primary mr-6",children:"videos"})]})}),(0,i.jsx)(m.n,{className:"w-11/12 relative",delay:2,mobileOnly:!0,children:(0,i.jsx)("div",{className:"tracking-normal",ref:t})}),(0,i.jsx)(m.n,{className:"w-10/12",delay:2,children:(0,i.jsx)("p",{className:"text mt-6",children:"Each pixel represents a day."})})]})}),(0,i.jsxs)("div",{className:"-z-50 absolute w-full top-0 h-screen overflow-hidden opacity-80 hidden lg:block",children:[(0,i.jsx)(m.n,{delay:.2,className:"bottom-[15%] left-[-2%] absolute w-[40vh] h-[40vh]",children:(0,i.jsx)(s(),{src:x.H.Cube3Shape,alt:"Red tinted clay shapes on background as decoration",layout:"fill"})}),(0,i.jsx)(m.n,{delay:.4,className:"top-[15%] right-[2%] absolute w-[20vh] h-[20vh]",children:(0,i.jsx)(s(),{src:x.H.Cube2Shape,alt:"Red tinted clay shapes on background as decoration",layout:"fill"})}),(0,i.jsx)(m.n,{delay:.6,className:"bottom-[-15%] right-[10%] absolute w-[54vh] h-[54vh]",children:(0,i.jsx)(s(),{src:x.H.Cube1Shape,alt:"Red tinted clay shapes on background as decoration",layout:"fill"})})]})]})},C=function(){var e=(0,f.fq)().watchHistory,t=(0,c.useRef)(null),a=(0,c.useRef)(null);return(0,c.useEffect)(function(){var n,l,r,i,o,s,c,d,u,h,f,x,m,p,y,g,w,j,k,C,S,R,Y,z,H,D,U,E,F,_,T,Z,O,M,B,I,q,W,L,P,A,X,V,G,Q,K,$,J,ee=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.width,n=void 0===a?928:a,l=t.color,r=void 0===l?"#D74040":l,i=t.hoverColor,o=void 0===i?"#D74040":i,s=t.tickSize,c=t.borderRadius,d={top:20,right:30,bottom:40,left:90},n=460-d.left-d.right,u=280-d.top-d.bottom,h=N.Ue8("svg").attr("width",n+d.left+d.right).attr("height",u+d.top+d.bottom).attr("viewBox",[0,0,n+d.left+d.right,u+d.top+d.bottom,]).attr("style","max-width: 100%; height: auto; height: intrinsic;");h.append("g").attr("transform","translate("+d.left+","+d.top+")");var f=h.selectChild(),v=N.BYU().domain([0,N.Fp7(e,function(e){return e.videoCount}),]).range([0,n]);f.append("g").attr("transform","translate(0,"+u+")").call(N.LLu(v)).selectAll("text").attr("transform","translate(0,0)").style("text-anchor","end");var x=N.tiA().range([0,u]).domain(e.map(function(e){return e.day})).padding(.1);f.append("g").call(N.y4O(x).tickSize(void 0===s?1:s).tickPadding(10)).call(function(e){return e.select(".domain").remove()}),f.selectAll("myRect").data(e).enter().append("rect").attr("x",v(0)).attr("y",function(e){return x(e.day)}).attr("width",v(0)).attr("height",x.bandwidth()).attr("fill",r).attr("rx",void 0===c?0:c),f.selectAll("rect").transition().duration(2e3).attr("width",function(e){return v(e.videoCount)}).delay(function(e,t){return 100*t});var m=null;return f.selectAll("rect").on("mouseover",function(e,t){N.td_(".d3-tooltip").remove(),(m=N.Ys("body").append("div").attr("class","d3-tooltip").style("position","absolute").style("top","0").style("z-index","10").style("visibility","hidden").style("padding","5px 10px").style("background","rgba(0,0,0,0.7)").style("border-radius","4px").style("border","0px solid #909090").style("font-size","14px").style("width","140px").style("color","#EEF2F3").text("Tooltip")).html('<div style="font-weight: 500">'.concat(t.day,"</div><div>").concat(Math.round(10*t.videoCount)/10," videos per day</div>")).style("visibility","visible"),N.Ys(this).transition().attr("fill",o)}).on("mousemove",function(e){m.style("top",e.pageY-10+"px").style("left",e.pageX+10+"px")}).on("mouseout",function(){m.html("").style("visibility","hidden"),N.Ys(this).transition().attr("fill",r)}),h.node()}((0,v.x3)(e,new Date(2022,0,1),new Date(2022,11,31)),{tickSize:0,borderRadius:5});null===(n=t.current)||void 0===n||n.replaceChildren(ee);var et=(r=(0,v.HU)(e),o=(i={x:function(e){return e.hour},y:function(e){return e.videoCount},xType:N.BYU,yLabel:"Videos Watched",curve:N.$0Z,strokeWidth:3,areaColor:"#D74040",color:"#D74040",showCircle:!0}).x,s=i.y,c=i.defined,u=void 0===(d=i.curve)?N.c_6:d,h=i.marginTop,x=void 0===(f=i.marginRight)?30:f,p=void 0===(m=i.marginBottom)?30:m,g=void 0===(y=i.marginLeft)?40:y,j=void 0===(w=i.width)?640:w,C=void 0===(k=i.height)?280:k,R=void 0===(S=i.xType)?N.KYF:S,Y=i.xDomain,z=i.xRange,D=void 0===(H=i.yType)?N.BYU:H,U=i.yDomain,E=i.yRange,F=i.yFormat,_=i.yLabel,T=i.color,Z=i.strokeLinecap,O=i.strokeLinejoin,M=i.strokeWidth,B=i.strokeOpacity,I=i.areaColor,q=i.areaOpacity,i.showCircle,W=N.UID(r,void 0===o?function(e){return(0,b.Z)(e,1)[0]}:o),L=N.UID(r,void 0===s?function(e){return(0,b.Z)(e,2)[1]}:s),P=N.w6H(W.length),void 0===c&&(c=function(e,t){return!isNaN(W[t])&&!isNaN(L[t])}),A=N.UID(r,c),void 0===Y&&(Y=N.Wem(W)),void 0===U&&(U=[0,N.Fp7(L)]),X=R(Y,void 0===z?[g,j-x]:z),V=D(U,void 0===E?[C-p,void 0===h?20:h]:E),G=N.LLu(X).ticks(j/80).tickSizeOuter(0),Q=N.y4O(V).ticks(C/40,F),K=N.SOn().curve(u).x(function(e){return X(W[e])}).y0(V(0)).y1(function(e){return V(L[e])}),$=N.jvg().defined(function(e){return A[e]}).curve(u).x(function(e){return X(W[e])}).y(function(e){return V(L[e])}),(J=N.Ue8("svg").attr("width",j).attr("height",C).attr("viewBox",[0,0,j,C]).attr("style","max-width: 100%; height: auto; height: intrinsic;")).append("g").attr("transform","translate(0,".concat(C-p,")")).call(G),J.append("path").data([r]).attr("fill",void 0===I?"none":I).attr("fill-opacity",void 0===q?.6:q).attr("style","stroke-width: 0;").attr("d",K(P)),J.append("g").attr("transform","translate(".concat(g,",0)")).call(Q).call(function(e){return e.select(".domain").remove()}).call(function(e){return e.selectAll(".tick line").clone().attr("x2",j-g-x).attr("stroke-opacity",.1)}).call(function(e){return e.append("text").attr("x",-g).attr("y",10).attr("fill","currentColor").attr("text-anchor","start").text(_)}),J.append("path").attr("fill","none").attr("stroke",void 0===T?"currentColor":T).attr("stroke-width",void 0===M?1.5:M).attr("stroke-linecap",void 0===Z?"round":Z).attr("stroke-linejoin",void 0===O?"round":O).attr("stroke-opacity",void 0===B?1:B).attr("d",$(P)),J.node());null===(l=a.current)||void 0===l||l.replaceChildren(et)},[e]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("main",{className:u()("w-full flex flex-col justify-center items-center pb-12 lg:pb-8 pt-2"),children:(0,i.jsxs)("div",{className:"w-10/12 max-w-[1000px] flex flex-col items-center",children:[(0,i.jsx)(m.n,{delay:2.5,children:(0,i.jsxs)("h1",{className:"text-primaryGrey text-5xl md:text-[92px]",children:["You enjoy watching videos on"," ",(0,i.jsx)(m.n,{delay:3.5,className:"inline text-black mr-6",children:"".concat((0,v.x1)((0,v.x3)(e,new Date(2022,0,1),new Date(2022,11,31)),"day","videoCount")," ").concat((0,v.qv)(Number((0,v.x1)((0,v.HU)(e),"hour","videoCount"))),".")})]})}),(0,i.jsxs)("div",{className:"flex items-center mt-8",children:[(0,i.jsx)(m.n,{delay:.5,mobileOnly:!0,children:(0,i.jsx)("div",{className:"tracking-normal",ref:t})}),(0,i.jsx)(m.n,{delay:1.5,mobileOnly:!0,className:"hidden lg:block",children:(0,i.jsx)("div",{className:"tracking-normal",ref:a})})]})]})}),(0,i.jsx)("div",{className:"-z-50 absolute w-full top-0 h-full overflow-hidden opacity-80 hidden lg:block",children:(0,i.jsx)(m.n,{delay:.3,className:"bottom-[20%] left-[-2%] absolute w-[25vh] h-[25vh]",children:(0,i.jsx)(s(),{src:x.H.Rock3,alt:"Red tinted clay shapes on background as decoration",layout:"fill"})})})]})},S=function(e,t){var a=t.x,n=t.y,l=t.title,r=t.marginTop,i=t.marginRight,o=void 0===i?0:i,s=t.marginBottom,c=void 0===s?30:s,d=t.marginLeft,u=void 0===d?40:d,h=t.width,f=void 0===h?640:h,v=t.height,x=void 0===v?400:v,m=t.xDomain,p=t.xRange,y=t.yType,g=void 0===y?N.BYU:y,w=t.yDomain,j=t.yRange,b=t.xPadding,k=t.yFormat,C=t.yLabel,S=t.color,R=void 0===S?"currentColor":S,Y=t.hoverColor,z=void 0===Y?"currentColor":Y,H=t.tickSize,D=void 0===H?1:H,U=t.borderRadius,E=void 0===U?0:U,F=t.removeXLine,_=void 0!==F&&F,T=N.UID(e,void 0===a?function(e,t){return t}:a),Z=N.UID(e,void 0===n?function(e){return e}:n);void 0===m&&(m=T),void 0===w&&(w=[0,N.Fp7(Z)]),m=new N.H0G(m);var O=N.w6H(T.length).filter(function(e){return m.has(T[e])}),M=N.tiA(m,void 0===p?[u,f-o]:p).padding(void 0===b?.1:b),B=g(w,void 0===j?[x-c,void 0===r?20:r]:j),I=N.LLu(M).tickSizeOuter(0).tickSize(D).tickPadding(10),q=N.y4O(B).ticks(x/40,k).tickSize(D);if(void 0===l){var W=B.tickFormat(100,k);l=function(e){return"".concat(T[e],"\n").concat(W(Z[e]))}}else{var L=N.UID(e,function(e){return e}),P=l;l=function(t){return P(L[t],t,e)}}var A=N.Ue8("svg").attr("width",f).attr("height",x).attr("viewBox",[0,0,f,x]).attr("style","max-width: 100%; height: auto; height: intrinsic;");A.append("g").attr("transform","translate(".concat(u,",0)")).call(q).call(function(e){return e.select(".domain").remove()}).call(function(e){return e.selectAll(".tick line").clone().attr("x2",f-u-o).attr("stroke-opacity",.1)}).call(function(e){return e.append("text").attr("x",-u).attr("y",10).attr("fill","currentColor").attr("text-anchor","start").text(C)});var X=A.append("g").attr("fill",R).selectAll("rect").data(O).join(function(e){return e.append("rect").attr("x",function(e){return M(T[e])}).attr("y",function(){return B(0)}).attr("rx",E).call(function(e){return e.attr("height",0).attr("width",M.bandwidth())})});X.transition().duration(2e3).attr("y",function(e){return B(Z[e])}).attr("height",function(e){return B(0)-B(Z[e])}).delay(function(e,t){return 100*t});var V=null;return X.on("mouseover",function(e,t){N.td_(".d3-tooltip-bar").remove(),(V=N.Ys("body").append("div").attr("class","d3-tooltip-bar").style("position","absolute").style("top","0").style("z-index","10").style("visibility","hidden").style("padding","5px 10px").style("background","rgba(0,0,0,0.7)").style("border-radius","4px").style("border","0px solid #909090").style("font-size","14px").style("width","140px").style("color","#EEF2F3").text("Tooltip")).html('<div style="font-weight: 500">'.concat(T[t],"</div><div>").concat(Math.round(10*Z[t])/10," videos per day</div>")).style("visibility","visible"),N.Ys(this).transition().attr("fill",z)}).on("mousemove",function(e){V.style("top",e.pageY-10+"px").style("left",e.pageX+10+"px")}).on("mouseout",function(){V.html("").style("visibility","hidden"),N.Ys(this).transition().attr("fill",R)}),A.append("g").attr("transform","translate(0,".concat(x-c,")")).call(I).call(function(e){return e.select(_?".domain":".noRemove").remove()}),A.node()},R=function(){var e=(0,f.fq)().watchHistory,t=(0,c.useRef)(null);return(0,c.useEffect)(function(){var a,n=S((0,v.WZ)(e),{x:function(e){return e.month},y:function(e){return e.videoCount},color:"#D74040",hoverColor:"#D74040",height:320,tickSize:0,borderRadius:5,removeXLine:!0});null===(a=t.current)||void 0===a||a.replaceChildren(n)},[e]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("main",{className:u()("w-full flex flex-col justify-center items-center pb-12 lg:pb-8 pt-2"),children:(0,i.jsxs)("div",{className:"w-10/12 max-w-[1000px] flex flex-col items-center",children:[(0,i.jsx)(m.n,{delay:2,children:(0,i.jsxs)("h1",{className:"text-primaryGrey text-5xl md:text-[92px]",children:["You watched the most videos in"," ",(0,i.jsx)("span",{className:"inline text-black mr-6",children:"".concat((0,v.x1)((0,v.WZ)(e),"month","videoCount"),".")})]})}),(0,i.jsx)(m.n,{delay:0,mobileOnly:!0,children:(0,i.jsx)("div",{className:"mt-4 tracking-normal",ref:t})}),(0,i.jsx)(m.n,{delay:3.5,children:(0,i.jsx)("p",{className:"text mt-6 w-full",children:"Better content in the spring?"})})]})}),(0,i.jsx)("div",{className:"-z-50 absolute w-full top-0 h-full overflow-hidden opacity-80 hidden lg:block",children:(0,i.jsx)(m.n,{delay:.4,className:"bottom-[-20%] right-[2%] absolute w-[55vh] h-[55vh]",children:(0,i.jsx)(s(),{src:x.H.PlayShape,alt:"Red tinted clay shapes on background as decoration",layout:"fill"})})})]})},Y=a(1163),z=a(5820),H=a(4428),D=a(6293),U=a(3458),E=function(){var e,t,a,n,o,d,p,y=(0,c.useRef)(null),g=(0,f.fq)(),w=g.topCreators,j=g.watchHistory,b=(0,c.useState)(.5),N=b[0],k=b[1],C=(0,c.useState)(""),S=C[0],R=C[1];(0,c.useEffect)(function(){var e=function(){var e,t=null==y?void 0:null===(e=y.current)||void 0===e?void 0:e.getBoundingClientRect();t&&k(t.height/window.innerHeight)};e(),window.addEventListener("resize",e)},[]);var Y,z=(p=(0,l.Z)(function(){var e,t;return(0,r.__generator)(this,function(a){switch(a.label){case 0:if(!y.current)return[3,3];return[4,D.YM(y.current,{canvasWidth:800,canvasHeight:1600,cacheBust:!0,includeQueryParams:!0})];case 1:return a.sent(),[4,D.YM(y.current,{canvasWidth:800,canvasHeight:1600,cacheBust:!0,includeQueryParams:!0})];case 2:e=a.sent(),(t=document.createElement("a")).download="recap.png",t.href=e,t.click(),a.label=3;case 3:return[2]}})}),function(){return p.apply(this,arguments)}),E=(Y=(0,l.Z)(function(){var e,t;return(0,r.__generator)(this,function(a){switch(a.label){case 0:if(!y.current)return[3,3];return[4,D.YM(y.current,{canvasWidth:800,canvasHeight:1600,cacheBust:!0,includeQueryParams:!0})];case 1:return a.sent(),[4,D.YM(y.current,{canvasWidth:800,canvasHeight:1600,cacheBust:!0,includeQueryParams:!0})];case 2:e=a.sent(),t=document.createElement("a"),R(e),t.download="recap.png",t.href=e,t.click(),a.label=3;case 3:return[2]}})}),function(){return Y.apply(this,arguments)});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("main",{className:u()("w-full flex flex-col justify-center items-center py-12 pb-24"),children:(0,i.jsxs)("div",{className:"w-10/12 lg:w-8/12 max-w-[1000px] flex flex-col lg:flex-row",children:[(0,i.jsxs)("div",{className:"flex flex-col text-center items-center w-full lg:basis-5/12",children:[(0,i.jsx)(h.X,{className:"flex-col w-full h-full mb-4",reduceEffect:20,children:(0,i.jsxs)(m.n,{delay:1.5,className:"h-[56vh] w-[28vh] mx-auto relative my-4 mb-8 drop-shadow-[0px_0px_30px_rgba(0,0,0,0.25)]",mobileOnly:!0,children:[S&&(0,i.jsx)(s(),{src:S,alt:"Your yearly review",layout:"fill",objectFit:"contain",className:"rounded-lg !min-w-fit !w-auto z-10 absolute lg:hidden"}),(0,i.jsx)("div",{className:"overflow-hidden aspect-[1/2] h-full w-auto rounded-lg mx-auto pointer-events-none",children:(0,i.jsxs)("div",{ref:y,className:"relative aspect-[1/2] rounded-lg h-full w-auto mx-auto bg-white",style:{letterSpacing:"-0.04em"},children:[(0,i.jsxs)("h1",{className:"absolute flex",style:{top:"calc(".concat(N," * 5vh)"),left:"calc(".concat(N," * 4vh)"),fontSize:"calc(".concat(N," * 4vh)")},children:[(0,i.jsx)("span",{style:{margin:"0 calc(".concat(N," * 1vh) 0 0"),display:"inline"},className:"text-primary",children:j.length})," ","videos."]}),(0,i.jsxs)("h1",{className:"absolute flex",style:{top:"calc(".concat(N," * 10vh)"),left:"calc(".concat(N," * 4vh)"),fontSize:"calc(".concat(N," * 4vh)")},children:[(0,i.jsx)("span",{style:{margin:"0 calc(".concat(N," * 1vh) 0 0"),display:"inline"},className:"text-primaryGrey",children:Object.keys((0,v.DZ)(j)).length})," ","creators."]}),(0,i.jsxs)("div",{style:{top:"calc(".concat(N," * 18vh)"),left:"0"},className:"relative w-full flex flex-col items-center",id:"urlContainer",children:[(0,i.jsx)("div",{style:{width:"calc(".concat(N," * 24vh)"),height:"calc(".concat(N," * 24vh)")},className:"mx-auto aspect-square rounded-full overflow-hidden border-tertiary z-5",children:(0,i.jsx)("div",{className:"relative w-full h-full",children:(0,i.jsx)(s(),{src:null===(e=w[0])||void 0===e?void 0:e.imageUrl.url,alt:(null===(t=w[0])||void 0===t?void 0:t.name)||"Your top creator",layout:"fill",className:"rounded-full overflow-hidden"})})}),(0,i.jsxs)("div",{className:"flex justify-between w-10/12",children:[(0,i.jsx)("div",{style:{width:"calc(".concat(N," * 16vh)"),height:"calc(".concat(N," * 16vh)")},className:" aspect-square rounded-full overflow-hidden border-tertiary z-5",children:(0,i.jsx)("div",{className:"relative w-full h-full",children:(0,i.jsx)(s(),{src:null===(a=w[1])||void 0===a?void 0:a.imageUrl.url,alt:(null===(n=w[1])||void 0===n?void 0:n.name)||"Your 2nd top creator",layout:"fill",className:"rounded-full overflow-hidden"})})}),(0,i.jsx)("div",{style:{width:"calc(".concat(N," * 14vh)"),height:"calc(".concat(N," * 14vh)")},className:" aspect-square rounded-full overflow-hidden border-tertiary z-5",children:(0,i.jsx)("div",{className:"relative w-full h-full",children:(0,i.jsx)(s(),{src:null===(o=w[2])||void 0===o?void 0:o.imageUrl.url,alt:(null===(d=w[2])||void 0===d?void 0:d.name)||"Your 3rd top creator",layout:"fill",className:"rounded-full overflow-hidden"})})})]})]}),(0,i.jsx)("h1",{className:"absolute flex",style:{top:"calc(".concat(N," * 60vh)"),left:"calc(".concat(N," * 4vh)"),fontSize:"calc(".concat(N," * 5vh)")},children:"Top Creators"}),(0,i.jsxs)("div",{className:"absolute flex font-semibold text-left w-full gap-2",style:{top:"calc(".concat(N," * 68vh)"),padding:"0 calc(".concat(N," * 4vh)"),fontSize:"calc(".concat(N," * 3vh)")},children:[(0,i.jsx)("div",{className:"basis-6/12 relative overflow-hidden",children:w.slice(0,5).map(function(e,t){return(0,i.jsx)("p",{className:"whitespace-nowrap text-ellipsis overflow-hidden",style:{top:"calc(".concat(N," * ").concat(2.6*t,"vh)"),fontSize:"calc(".concat(N," * 2.6vh)"),letterSpacing:"-0.02em"},children:e.name},t)})}),(0,i.jsx)("div",{className:"basis-6/12 relative overflow-hidden",children:w.slice(5,10).map(function(e,t){return(0,i.jsx)("p",{className:"whitespace-nowrap text-ellipsis overflow-hidden",style:{top:"calc(".concat(N," * ").concat(2.6*t,"vh)"),fontSize:"calc(".concat(N," * 2.6vh)"),letterSpacing:"-0.02em"},children:e.name},t)})})]}),(0,i.jsxs)("div",{className:"absolute flex flex-col text-left w-full",style:{bottom:"calc(".concat(N," * 3vh)"),padding:"0 calc(".concat(N," * 4vh)"),gap:"calc(".concat(N," * 0.5vh)")},children:[(0,i.jsx)("div",{className:"relative",style:{width:"calc(".concat(N," * 20vh)"),height:"calc(".concat(N," * 3vh)")},children:(0,i.jsx)(s(),{src:U.Z,alt:"Year In Review Logo",layout:"fill",objectFit:"contain"})}),(0,i.jsx)("p",{className:"",style:{fontSize:"calc(".concat(N," * 1.5vh)"),letterSpacing:"-0.02em",fontWeight:500},children:"YOUTUBERECAP.VIEWODYSSEY.COM"})]})]})})]})}),(0,i.jsxs)(m.n,{delay:2,className:"flex gap-4",children:[(0,i.jsx)(H.z,{className:"hidden lg:block",buttonType:"primary",onClick:function(){return z()},children:"Share Image"}),(0,i.jsx)(H.z,{className:" lg:hidden",buttonType:"primary",onClick:function(){return E()},children:"Share Image"})]})]}),(0,i.jsx)(m.n,{className:"w-full lg:basis-7/12 mt-16 lg:m-0",children:(0,i.jsxs)("div",{className:"flex flex-col gap-4 lg:pr-8 ",children:[(0,i.jsx)("h2",{children:"Share"}),(0,i.jsx)("p",{children:"Congratulations on finishing your video recap for this year!\n                It has been an amazing year for content creation, and we're glad\n                you've been able to enjoy so many great videos and creators.\n                Don't forget to share your favorites this year with friends\n                and family!"})]})})]})}),(0,i.jsxs)("div",{className:"-z-50 absolute w-full top-0 h-full overflow-hidden opacity-80 hidden lg:block",children:[(0,i.jsx)(m.n,{delay:.2,className:"bottom-[25%] left-[5%] absolute w-[40vh] h-[40vh]",children:(0,i.jsx)(s(),{src:x.H.Rock3,alt:"Red tinted clay shapes on background as decoration",layout:"fill"})}),(0,i.jsx)(m.n,{delay:.4,className:"top-[-35%] right-[2%] absolute w-[60vh] h-[60vh]",children:(0,i.jsx)(s(),{src:x.H.ChatShape,alt:"Red tinted clay shapes on background as decoration",layout:"fill"})}),(0,i.jsx)(m.n,{delay:.6,className:"bottom-[15%] right-[30%] absolute w-[20vh] h-[20vh]",children:(0,i.jsx)(s(),{src:x.H.Rock2,alt:"Red tinted clay shapes on background as decoration",layout:"fill"})})]})]})},F=a(5671),_=a(4161),T=a(9898),Z={general:(0,i.jsx)(p,{}),top:(0,i.jsx)(w,{}),topCreators:(0,i.jsx)(j,{}),yearInVideos:(0,i.jsx)(k,{}),dailyStats:(0,i.jsx)(C,{}),monthlyStats:(0,i.jsx)(R,{}),share:(0,i.jsx)(E,{})},O=["general","top","topCreators","dailyStats","monthlyStats","yearInVideos","share",],M=function(e){var t,a=e.query,n=(0,c.useState)(Number(null!==(t=a.page)&&void 0!==t?t:0)),o=n[0],d=n[1],h=(0,Y.useRouter)(),x=(0,f.fq)(),m=x.watchHistory,p=x.setWatchHistory,w=x.setTopCreators;return(0,c.useEffect)(function(){var e,t=(e=(0,l.Z)(function(){var e,t,a,n,l;return(0,r.__generator)(this,function(t){switch(t.label){case 0:return e=(0,v.h_)((0,v._1)(T),new Date(2022,0,1),new Date(2022,11,31)),p(e),n=Object.entries((0,v.DZ)(e)).sort(function(e,t){return t[1].videosWatched-e[1].videosWatched}).slice(0,10).map(function(e){return e[1]}),[4,(0,v.lU)(n)];case 1:return w(t.sent()),[2]}})}),function(){return e.apply(this,arguments)});a.useSampleData&&t()},[a,w,p]),(0,c.useEffect)(function(){a.useSampleData||0!==m.length||h.push("/upload")},[a,h,m]),(0,i.jsxs)("div",{className:u()("h-screen w-full overflow-y-auto overflow-x-hidden py-8 "),children:[(0,i.jsxs)(F.Z,{title:"Year In Review",children:[(0,i.jsx)("meta",{name:"description",content:"View YouTube Year In Review by visualizing your data."}),(0,i.jsx)("meta",{property:"og:url",content:_.y}),(0,i.jsx)("meta",{name:"og:description",content:"View YouTube Year In Review by visualizing your data."}),(0,i.jsx)("meta",{property:"og:image",content:"".concat(_.y,"/landing.png")})]}),(0,i.jsxs)(z.M,{mode:"wait",children:[m&&(0,i.jsx)("div",{className:"h-full hidden lg:block",children:Z[O[o]]},o),(0,i.jsx)("div",{className:"block lg:hidden",children:O.map(function(e,t){return(0,i.jsx)("div",{className:u()("min-h-[70vh]",{"hidden lg:flex":5===t}),children:Z[e]},e)})})]}),(0,i.jsxs)("div",{className:"hidden items-center w-full justify-center gap-2 absolute bottom-8 lg:flex",children:[(0,i.jsx)("button",{className:"cursor-pointer flex items-center rounded-lg p-1 w-12",onClick:function(){0===o?h.push("/upload"):d(function(e){return Math.max(0,e-1)})},children:(0,i.jsx)(s(),{src:y.Z,alt:"Previous"})}),(0,i.jsx)("div",{className:"w-8 font-medium",children:"".concat(o+1," / ").concat(O.length)}),(0,i.jsx)("button",{className:"cursor-pointer flex items-center rounded-lg p-1 w-12",onClick:function(){d(function(e){return Math.min(O.length-1,e+1)})},children:(0,i.jsx)(s(),{src:g.Z,alt:"Next"})})]})]})};M.getInitialProps=(n=(0,l.Z)(function(e){return(0,r.__generator)(this,function(t){return[2,{query:e.query}]})}),function(e){return n.apply(this,arguments)});var B=M}},function(e){e.O(0,[662,133,110,467,774,888,179],function(){return e(e.s=6736)}),_N_E=e.O()}]);